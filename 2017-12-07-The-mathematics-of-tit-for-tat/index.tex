\documentclass{beamer}

\usecolortheme[light]{solarized}

\beamertemplatenavigationsymbolsempty

\usepackage{hyperref}

\usepackage{booktabs}
\usepackage{graphicx}
\usepackage{minted}
\usepackage{moresize}
\usepackage{standalone}
\usepackage{tcolorbox}
\usepackage{tikz}
\usepackage[normalem]{ulem}
\usepackage{xpatch}
\usepackage{amsmath}

\xpatchcmd{\sout}
  {\bgroup}
    {\bgroup\def\ULthickness{2pt}}
      {}{}

\usetikzlibrary{calc, patterns}

\definecolor{twitter}{RGB}{64, 153, 255}
\definecolor{github}{RGB}{211, 211, 211}

\newcommand{\assetsfolder}{./assets}
\newcommand{\researchfolder}{$HOME/rsc/axelrod-moran}
\newcommand{\mlresearchfolder}{$HOME/rsc/ml-paper}

\begin{document}

    \begin{frame}
        \begin{center}
            \Large
               Vince: \href{https://twitter.com/drvinceknight}{@drvinceknight}\\

               \href{https://arxiv.org/abs/1707.06920}{arxiv.org/abs/1707.06920}
               \vfill
               \begin{columns}
                   \begin{column}{.3\textwidth}
                       \begin{center}
                       \includegraphics[height=3cm]{\assetsfolder/CUident_CMYK.eps}
                       \end{center}
                   \end{column}
                   \begin{column}{.3\textwidth}
                       \begin{center}
                       \includegraphics[height=3cm]{\assetsfolder/ssi-logo.png}
                       \end{center}
                   \end{column}
                   \begin{column}{.3\textwidth}
                       \begin{center}
                       \includegraphics[height=3cm]{\assetsfolder/axelrod_logo.png}
                       \end{center}
                   \end{column}
               \end{columns}
        \end{center}

    \end{frame}

    \begin{frame}
        \input{\assetsfolder/rpsls.tex}
    \end{frame}

    \begin{frame}
        \begin{center}
            \begin{tcolorbox}[colback=twitter,colframe=twitter!40!black,title=
                    \href{https://twitter.com/kirstyjean/status/870415613746962432}
                    {@kirstyjean} (2 Jun 2017):
]
                    Me: sets up flawless heat competition trial, lizards will
                    fight over hot podium, there can only be one winner!

                    Lizards:

                    \#ALlizards2017
           \end{tcolorbox}
        \end{center}
            %\end{column}
        %\end{columns}
        \begin{center}
            \pause
            \includegraphics[width=.4\textwidth]
            {\assetsfolder/lizard-cooperation.jpg}
        \end{center}

    \end{frame}
    %\begin{frame}[fragile]{}
        %\begin{center}
            %\begin{minipage}{0.7\textwidth}
                %\begin{minted}[linenos, fontsize=\ssmall]{python}
%def moran(N, game, i=1, seed=0):
    %"""
    %Return the population counts for the Moran process on a game
    %"""
    %population = [0 for _ in range(i)] + [1 for _ in range(N - i)]
    %counts = [(i, N - i)]

    %np.random.seed(seed)

    %while len(set(population)) == 2:

        %scores = []

        %for i, player in enumerate(population):
            %total = 0
            %for j, opponent in enumerate(population):
                %if i != j:
                    %total += game[player, opponent]
            %scores.append(total)

        %total_score = sum(scores)
        %probabilities = [score / total_score for score in scores]
        %reproduce_index = np.random.choice(range(N), p=probabilities)

        %eliminate_index = np.random.randint(N)
        %population[eliminate_index] = population[reproduce_index]

        %counts.append((population.count(0), population.count(1)))
    %return counts
            %\end{minted}
        %\end{minipage}
    %\end{center}
%\end{frame}

    %\begin{frame}[fragile]{}
        %\begin{center}
            %\begin{minipage}{0.7\textwidth}
                %\begin{minted}[linenos, fontsize=\scriptsize, firstnumber=14]{python}
    %for i, player in enumerate(population):
        %total = 0
        %for j, opponent in enumerate(population):
            %if i != j:
                %total += game[player, opponent]
        %scores.append(total)

    %total_score = sum(scores)
    %probabilities = [score / total_score for score in scores]
    %reproduce_index = np.random.choice(range(N), p=probabilities)

    %eliminate_index = np.random.randint(N)
    %population[eliminate_index] = population[reproduce_index]
            %\end{minted}
        %\end{minipage}
    %\end{center}
%\end{frame}

    \begin{frame}
        \begin{center}
            \url{https://www.youtube.com/watch?v=p3Uos2fzIJ0}
        \end{center}
    \end{frame}

    \begin{frame}
        % PD
        \Huge
        \[
            \begin{pmatrix}
                3 & 0\\
                5 & 1
            \end{pmatrix}
            \qquad
            \begin{pmatrix}
                3 & 5\\
                0 & 1
            \end{pmatrix}
        \]

        \pause
		\normalsize
        \begin{center}
            (3 teams of 2.)
        \end{center}
    \end{frame}

    \begin{frame}[fragile]{}
        \begin{columns}
            \begin{column}{.4\textwidth}
                \begin{center}
                    \includegraphics[width=.8\textwidth]{\assetsfolder/Axelrod.jpg}
                    \\
                    Robert Axelrod
                \end{center}
            \end{column}
            \pause
            \begin{column}{.6\textwidth}
                \begin{minted}[fontsize=\scriptsize]{python}
>>> import axelrod as axl

>>> players = (axl.TitForTat(),
...            axl.Cooperator())
>>> axl.Match(players, turns=5).play()
[(C, C), (C, C), (C, C), (C, C), (C, C)]

>>> players = (axl.TitForTat(),
...            axl.Defector())
>>> axl.Match(players, turns=5).play()
[(C, D), (D, D), (D, D), (D, D), (D, D)]

>>> players = (axl.TitForTat(),
...            axl.Alternator())
>>> axl.Match(players, turns=5).play()
[(C, C), (C, D), (D, C), (C, D), (D, C)]

                \end{minted}
            \end{column}
        \end{columns}
\end{frame}


    \begin{frame}
        \begin{center}
            \scalebox{.6}{\input{\researchfolder/tex/moran_process.tex}}
            % TODO Possibly re draw.
        \end{center}

		\pause

		  \begin{align*}
			  p_{i, i-1}&=\frac{i(N - i)}{N^2}\\
			  p_{i, i+1}&=\frac{i(N - i)}{N^2}\\
			  p_{i, i}&=1 - p_{i, i-1} - p_{i, i+1}
		  \end{align*}

    \end{frame}

\begin{frame}

    \begin{center}
        \textbf{Resistance}
        \includegraphics[height=.4\textheight]{\assetsfolder/moran_process_resistance.pdf}\\

        \textbf{Invasion}
        \includegraphics[height=.4\textheight]{\assetsfolder/moran_process_invasion.pdf}
    \end{center}
\end{frame}




\begin{frame}
    \scalebox{.7}{
        \input{\mlresearchfolder/assets/fsm.tex}
    }
\end{frame}

%\begin{frame}[fragile]{}

    %\begin{center}
        %\begin{minipage}{0.8\textwidth}
            %\begin{minted}[fontsize=\Huge]{python}
%import axelrod_dojo
            %\end{minted}
        %\end{minipage}
    %\end{center}
%\end{frame}


\begin{frame}
    \begin{center}
        \scalebox{.7}{
            \input{\researchfolder/tex/fsm_one.tex}
        }
    \end{center}
\end{frame}


\begin{frame}
    \begin{center}
        \includegraphics[height=.8\textheight]{./assets/hunger-games-hand-gesture.eps}


        \tiny
        \vfill
        \flushright{Image made by \url{http://www.freepik.com} from
        \url{https://www.flaticon.com} is licensed by CC BY 3.0}
    \end{center}
\end{frame}


\begin{frame}
            \footnotesize
            \begin{center}
                \textbf{Invasion (\(N=14\))}\\

                \input{\researchfolder/tex/summary_top_14_invade.tex}
            \end{center}
\end{frame}
\begin{frame}
            \footnotesize
            \begin{center}
                \textbf{Resistance (\(N=14\))}\\

                \input{\researchfolder/tex/summary_top_14_resist.tex}
            \end{center}
\end{frame}


\begin{frame}
    \begin{center}
        \includegraphics[width=.9\textwidth]{\assetsfolder/tf1_transitive_fingerprint.pdf}
    \end{center}
\end{frame}

\begin{frame}
    \begin{columns}
        \begin{column}{.6\textwidth}
            \begin{center}
                \scalebox{.49}{
                    \input{\researchfolder/tex/fsm_one.tex}
                }
            \end{center}
        \end{column}

        \begin{column}{.4\textwidth}
            \small
            \begin{tabular}{ll}
                \toprule
                TF1 \#1   & TF1 \#2\\
                \midrule
                \bf{1}: C & \bf{1}: C  \\
                \bf{8}: C & \bf{8}: C  \\
                \bf{5}: D & \bf{5}: D  \\
                4: C      & 4: C  \\
                4: C      & 4: C  \\
                4: C      & 4: C  \\
                4: C      & 4: C  \\
                4: C      & 4: C  \\
                \bottomrule
            \end{tabular}
        \end{column}
    \end{columns}
\end{frame}


\begin{frame}
    \Huge
    \begin{center}
        \only<1>{
            164
            }
        \only<2>{
            \sout{164}\; 211+
            }
    \end{center}
\end{frame}


\begin{frame}
    \begin{footnotesize}
        \begin{tcolorbox}[colback=github,colframe=blue!40!black,title=
                Julie Rymer - \href{https://gitter.im/Axelrod-Python/Axelrod?at=591388592b926f8a6741435d}
                {@Chadys} - (10 May 2017):
    ]
                And I really wanted to thank you all, I discovered your project because of a
                course where we needed to participate in an open source project, and I had the
                occasion to compare the welcome me and my coworkers received here compared to
                other people from my class who worked on different project. And I've got to said
                you are awesome on that part and on the help your provide to newbies ï¿¼ I like
                your project so I'll try to continue to contribute now and then !
       \end{tcolorbox}
    \end{footnotesize}

 \end{frame}

 \begin{frame}
    \begin{center}
        \includegraphics[height=.8\textheight]{\assetsfolder/nash.jpg}
        \\
        John Nash
    \end{center}
 \end{frame}

 \begin{frame}
    \begin{center}
        \includegraphics[height=.8\textheight]{\assetsfolder/brouwer_fixed_point_theorem.pdf}
    \end{center}
 \end{frame}

 \begin{frame}
   \begin{columns}
        \begin{column}{.35\textwidth}
            \begin{itemize}
                \item \href{https://twitter.com/NikoletaGlyn}{@NikoletaGlyn}
                \item \href{https://twitter.com/opcampbell}{@opcampbell}
                \item \href{http://marcharper.codes/}{marcharper.codes}
            \end{itemize}
        \end{column}
        \begin{column}{.65\textwidth}
            \begin{itemize}
                \item \href{https://github.com/Axelrod-Python/Axelrod}{github.com/Axelrod-Python/Axelrod}
                \item \href{https://gitter.im/Axelrod-Python/Axelrod}{gitter.im/Axelrod-Python/Axelrod}
                \item
                    \href{https://arxiv.org/abs/1707.06920}{arxiv.org/abs/1707.06920}
            \end{itemize}
        \end{column}
   \end{columns}

        \begin{center}
               \href{https://twitter.com/drvinceknight}{@drvinceknight}
        \end{center}

   \begin{columns}
        \begin{column}{.4\textwidth}
            \begin{itemize}
                \item
                    \href{https://vknight.org/gt/}{vknight.org/gt/}
            \end{itemize}
        \end{column}
        \begin{column}{.6\textwidth}
            \begin{itemize}
                \item \href{https://github.com/drvinceknight/Nashpy}{github.com/drvinceknight/Nashpy}
            \end{itemize}
        \end{column}
   \end{columns}
\end{frame}

\end{document}
